<script type="text/html" data-help-name="aloes-tx">
  <p>A node to publish user data to Aloes Broker</p>

  <h3>Inputs</h3>
  <dl class="message-properties">
    <dt>aloesNetwork <span class="property-type">object</span></dt>
    <dd> Declare your Aloes instance configuration </dd>

    <dt class="optional">topic <span class="property-type">string</span></dt>
      <dd> the MQTT topic to publish to.</dd>

    <dt class="optional">qos <span class="property-type">number</span></dt>
    <dd>Set the MQTT quality of signal</dd>

    <dt class="optional">retain <span class="property-type">boolean</span></dt>
    <dd>set to true to retain the message on the broker. Default false.</dd>
  </dl>


  <h3>Details</h3>
  <code>msg.payload</code> is used as the payload of the published message.
  If it contains an Object it will be converted to a JSON string before being sent.
  If it contains a binary Buffer the message will be published as-is.</p>
  <p>The topic used can be configured in the node or, if left blank, can be set by <code>msg.topic</code>.</p>
  <p>Likewise the QoS and retain values can be configured in the node or, if left
  blank, set by <code>msg.qos</code> and <code>msg.retain</code> respectively. To clear a previously
  retained topic from the broker, send a blank message to that topic with the retain flag set.</p>
  <p>This node requires a connection to a MQTT broker to be configured. This is configured by clicking
  the pencil icon.</p>
  <p>Several MQTT nodes (in or out) can share the same broker connection if required.</p>

  <h3>References</h3>
  <ul>
    <!-- link to device-manager and aloes.io doc -->
    <li><a>GitHub</a> - the nodes github repository</li>
    <li><a>GitHub</a> - aloes-handlers library</li>
  </ul>
</script>
